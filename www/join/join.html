<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
	<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css"/>
	<script src="https://code.jquery.com/jquery.min.js"></script>
	<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
	<link rel="stylesheet" href="../css/index.css"/>
	
	<title>회원가입</title>

</head>

<body>
	<div data-role="page">
		<div data-role="header" class="ui-alt-icon ui-nodisc-icon" id="frmHeader">
			<div>
				<a id="topmenu" data-rel = "back" class="ui-btn ui-icon-arrow-l ui-shadow ui-corner-all ui-btn-icon-notext ui-btn-inline"></a>
			</div>
		</div>
	
		
		<div role="main">
			<br/>
			<div class="box">
					<input type="text" id="txtEmail" placeholder="이메일을 입력해주세요.">
					<input type="password" id="txtPassword" placeholder="비밀번호를 입력해주세요">
					<input type="password" id="txtPassword2" placeholder="비밀번호 중복체크입니다.">
					<hr/>
					<br/>
					<button id="JoinSuccess">회원가입 완료</button>
			</div>
        </div>
        
        	<script src="https://www.gstatic.com/firebasejs/4.1.2/firebase.js"></script>
        	<script src = "https://www.gstatic.com/firebasejs/live/3.1/firebase.js"></script>
        	<script type="text/javascript">
        	const config = 
   		 {
        		    apiKey: "AIzaSyBE5vMFfd91z_MXwb1CeBKsZWQEYPisY9s",
        		    authDomain: "thisskin-ios-fe4b6.firebaseapp.com",
        		    databaseURL: "https://thisskin-ios-fe4b6.firebaseio.com",
        		    projectId: "thisskin-ios-fe4b6",
        		    storageBucket: "thisskin-ios-fe4b6.appspot.com",
        		    messagingSenderId: "253616346483"
   			  };
   			  firebase.initializeApp(config);
   			  
        	const JoinSuccess = document.getElementById("JoinSuccess");
        	
        	JoinSuccess.addEventListener("click", e =>
			  {
				//Get email and pass
				  const email = txtEmail.value;
				  const pass = txtPassword.value;
				  const pass2 = txtPassword2.value;
				  const auth = firebase.auth();
				  
				  if(pass!=pass2)
					  {
					  alert("비밀번호 중복체크를 확인해주세요.");
					  return;
					  }
				  
				  
				  //Sign in
				  const promise = auth.createUserWithEmailAndPassword(email, pass);  
				  
				  promise
				  .then(e => alert("회원가입이 완료되었습니다."))
				  .catch(e => console.log(e.message)); 
			  })
        	</script>

		<div data-role="footer" data-position="fixed">

		</div>
	</div>
	
	
	
</body>
</html>